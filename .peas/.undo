{
  "Update": {
    "id": "peas-anmim",
    "file_path": "D:\\Development\\Shared\\PROJECT_LAB\\peas\\.peas\\peas-anmim--add-asset-cleanup-on-pea-deletion.md",
    "previous_content": "+++\nid = \"peas-anmim\"\ntitle = \"Add asset cleanup on pea deletion\"\ntype = \"bug\"\nstatus = \"todo\"\npriority = \"normal\"\nparent = \"peas-w51zp\"\ncreated = \"2026-01-20T15:12:13.150164600Z\"\nupdated = \"2026-01-20T15:12:40.075171900Z\"\n+++\n\n## Problem\nWhen a pea is deleted, its assets directory remains:\n- .peas/assets/{ticket-id}/ not removed\n- Orphaned files accumulate\n- Wasted disk space\n\n## Impact\n- Disk bloat over time\n- Confusing when browsing .peas/assets/\n- No cleanup mechanism exists\n\n## Solution\nIn delete/archive operations:\n1. Check if .peas/assets/{id}/ exists\n2. Prompt user: \"Also delete N assets?\"\n3. Remove directory if confirmed\n4. Add --keep-assets flag for retention\n\n## Files\n- src/cli/handlers/delete.rs\n- src/cli/handlers/archive.rs\n- src/assets.rs (add cleanup method)\n"
  }
}