{
  "Update": {
    "id": "peas-1le6t",
    "file_path": "D:\\Development\\Shared\\PROJECT_LAB\\peas\\.peas\\peas-1le6t--e7-6-asset-support.md",
    "previous_content": "+++\nid = \"peas-1le6t\"\ntitle = \"E7.6: Asset Support\"\ntype = \"epic\"\nstatus = \"in-progress\"\npriority = \"normal\"\nparent = \"peas-3h9f1\"\ncreated = \"2026-01-19T16:10:53.228835100Z\"\nupdated = \"2026-01-20T14:22:13.309171900Z\"\n+++\n\n# Asset Support Epic\n\n## Vision\n\nEnable tickets to reference and manage external assets (files, images, diagrams, documents) that provide additional context or documentation. This allows tickets to be more comprehensive and self-contained.\n\n## Use Cases\n\n1. **Design Mockups**: Attach wireframes, UI designs, or screenshots to feature tickets\n2. **Diagrams**: Include architecture diagrams, flowcharts, or sequence diagrams\n3. **Documents**: Link to specifications, RFCs, or research documents\n4. **Screenshots**: Attach bug reproduction screenshots or before/after comparisons\n5. **Test Data**: Include sample data files or test fixtures\n6. **Reference Materials**: Attach PDFs, images, or other reference documents\n\n## Scope\n\n### In Scope\n- Store assets in `.peas/assets/` directory organized by ticket ID\n- Link assets to tickets via asset references in ticket body\n- Display asset list in TUI detail view\n- Open assets with system default application from TUI\n- CLI commands to manage assets (add, list, remove)\n- Support common file types (images, PDFs, text files, etc.)\n\n### Out of Scope (for now)\n- Asset versioning/history\n- Inline image preview in TUI (would require image rendering)\n- Asset compression or optimization\n- Asset search/indexing\n- Shared assets across multiple tickets\n\n## Architecture\n\n```\n.peas/\n├── assets/\n│   ├── peas-abc123/\n│   │   ├── screenshot-bug.png\n│   │   ├── architecture.svg\n│   │   └── spec.pdf\n│   └── peas-xyz789/\n│       └── mockup.png\n└── [existing structure]\n```\n\nAssets are organized by ticket ID in subdirectories for easy management.\n\n## Breakdown\n\nThis epic should be broken down into these stories/tickets:\n\n1. **Asset Storage Foundation** (Story)\n   - Create `.peas/assets/` directory structure\n   - Implement asset path resolution\n   - Add asset metadata tracking\n\n2. **CLI Asset Commands** (Story)\n   - `peas asset add <ticket-id> <file-path>` - Add asset to ticket\n   - `peas asset list <ticket-id>` - List ticket assets\n   - `peas asset remove <ticket-id> <asset-name>` - Remove asset\n   - `peas asset open <ticket-id> <asset-name>` - Open asset\n\n3. **Ticket Asset References** (Story)\n   - Extend Pea model with assets field\n   - Store asset references in frontmatter\n   - Update serialization/deserialization\n\n4. **TUI Asset Integration** (Story)\n   - Add \"Assets\" tab in detail view\n   - Display asset list with file types/sizes\n   - Keyboard shortcut to open selected asset\n   - Visual indicator when ticket has assets\n\n5. **Asset Utilities** (Chore)\n   - File type detection\n   - File size formatting\n   - Cross-platform file opening\n   - Asset validation\n\n## Success Criteria\n\n- ✅ Users can attach files to tickets via CLI\n- ✅ Assets are stored in organized directory structure\n- ✅ TUI shows asset list in detail view\n- ✅ Users can open assets from TUI with default app\n- ✅ CLI provides full asset management capabilities\n- ✅ Asset references persist in ticket frontmatter\n\n## Future Enhancements\n\n- Drag-and-drop file attachment in TUI\n- Image thumbnail preview\n- Asset search across all tickets\n- Asset cleanup for deleted tickets\n- Support for remote/URL assets\n- Asset templates (e.g., screenshot template, diagram template)\n"
  }
}